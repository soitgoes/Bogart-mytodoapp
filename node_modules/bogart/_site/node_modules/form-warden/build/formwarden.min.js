(function(g){typeof define==="function"?define(g):typeof exports==="object"?g(require,exports):g(void 0,fw={})})(function(g,p){var m=Object.prototype.hasOwnProperty,n=Array.prototype.forEach,q=Array.prototype.slice,o={},k=function(a,b,c){if(a!=null)if(n&&a.forEach===n)a.forEach(b,c);else if(a.length===+a.length)for(var f=0,j=a.length;f<j;f++){if(f in a&&b.call(c,a[f],f,a)===o)break}else for(f in a)if(m.call(a,f)&&b.call(c,a[f],f,a)===o)break},r=function(a){k(q.call(arguments,1),function(b){for(var c in b)b[c]!==
void 0&&(a[c]=b[c])});return a},s={required:function(a){return a===void 0||a===null?!0:a.length||a!==""},email:function(a){if(a)return a.match(/\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b/i)},ssn:function(a){if(a)return a.match(/\b[0-9]{3}-[0-9]{2}-[0-9]{4}\b/)},date:function(a){if(a)return a.match(/(0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])[- /.](19|20)[0-9]{2}/)},iso8601:function(a){if(a)return a.match(/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/)},maxLength:function(a,b,c){if(a)return a.length<=
c.length},minLength:function(a,b,c){if(a)return a.length>=c.length}};p.validateForm=function(a,b){var c={},f=!0,j=r(s,b.validators||{});k(b.fields,function(b,h){var i=b&&b.isVisible&&typeof b.isVisible=="function"&&!b.isVisible(a)?!1:!0,d;a:if(b){d=a[h];for(var l=!b.push?b.validations:b,g=0;g<l.length;g++){var e=l[g];if(e.isValid.test){if(!e.isValid.test(d)){d=e.message||h+" is invalid";break a}}else if(typeof e.isValid=="function"){if(!e.isValid(d,a)){d=e.message||h+" is invalid";break a}}else{var k=
j[e.isValid];if(k)if(k(d,a,e))e.valid&&e.valid();else{e.invalid&&e.invalid();d=e.message||h+" is invalid";break a}else console.log("Validation Function not found: "+e.isValid)}}d=""}else d=!0;l=!i||i&&d==="";f&=l;c[h]={visible:i,error:d,valid:!!l}});k(a,function(g,h){if(b.conventionBased&&g!="")for(var i in j)if(h.indexOf(i)>-1){var d=!!j[i](g,a);c[h]={visible:!0,error:d?"":j[i].message||h+" is invalid",valid:d};f&=d}m.call(c,h)||(c[h]={visible:!0,error:"",valid:!0})});return{fields:c,validForm:!!f}}});
